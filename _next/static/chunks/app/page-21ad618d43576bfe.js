(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{950:function(e,t,n){Promise.resolve().then(n.bind(n,5946))},5946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(3827),s=n(4090),a=n(3548);let c={latitude:0,longitude:0,hourly:["temperature_2m","rain","weather_code","wind_speed_10m","wind_direction_10m","wind_gusts_10m"],wind_speed_unit:"kn",timezone:"GMT",forecast_days:3,models:"meteofrance_seamless"};async function r(e,t){var n,i;c.latitude=e,c.longitude=t;let s=(await (0,a.S)("https://api.open-meteo.com/v1/forecast",c))[0],r=s.utcOffsetSeconds(),o=s.timezone(),l=s.timezoneAbbreviation();s.latitude(),s.longitude();let u=s.hourly();return{timezone:o,timezoneAbbreviation:l,time:(n=Number(u.time()),Array.from({length:(Number(u.timeEnd())-n)/(i=u.interval())},(e,t)=>n+t*i)).map(e=>new Date((e+r)*1e3)),temperature:u.variables(0).valuesArray(),rain:u.variables(1).valuesArray(),code:u.variables(2).valuesArray(),windSpeed:u.variables(3).valuesArray(),windGusts:u.variables(5).valuesArray(),windDirection:u.variables(4).valuesArray()}}async function o(e){let t="https://geocode.maps.co/search?q=".concat(e,"&api_key=").concat("65cce5719fc2a519750149dspf35283");try{let e=await fetch(t),n=await e.json();if(!n||!(n.length>0))return console.log("No data found"),{lat:0,lon:0,name:"Undefined",country:"Undefined"};{let e=n[0].lat,t=n[0].lon,i=n[0].display_name.split(",")[0],s=n[0].display_name.split(",").pop();return{lat:e,lon:t,name:i,country:s}}}catch(e){return console.error("Can't convert location to coords",e),{lat:0,lon:0,name:"Undefined",country:"Undefined"}}}function l(e){let t=t=>{let n=e.locations.filter(e=>e.name!==t.name||e.country!==t.country);e.setLocations(n)};return(0,i.jsxs)("li",{className:"cityli",children:[(0,i.jsx)("h1",{className:"close-container",children:(0,i.jsx)("button",{className:"close-button",onClick:()=>t(e.location),children:"X"})}),(0,i.jsxs)("div",{className:"city",children:[(0,i.jsxs)("div",{className:"city-grid",children:[(0,i.jsxs)("h2",{className:"city-name","data-name":"${props.locData.name}",children:[(0,i.jsx)("span",{children:e.location.name}),(0,i.jsx)("sup",{children:e.location.country})]}),(0,i.jsxs)("div",{className:"city-temp",children:[Math.round(12),(0,i.jsx)("sup",{children:"\xb0C"})]}),(0,i.jsxs)("figure",{children:[(0,i.jsx)("img",{className:"city-icon",src:"test",alt:"weatherpic"}),(0,i.jsx)("figcaption",{children:"fig caption"})]})]}),(0,i.jsxs)("div",{className:"city-grid",children:[(0,i.jsxs)("div",{className:"city-wind",children:["12",(0,i.jsx)("sup",{children:"kts"})]}),(0,i.jsxs)("div",{className:"city-wind city-gust",children:["13",(0,i.jsx)("sup",{children:"kts"})]}),(0,i.jsx)("div",{className:"city-arrow",children:"â†‘"})]})]})]})}function u(e){let t=e.locations.map(function(t,n){return(0,i.jsx)(l,{location:t,locations:e.locations,setLocations:e.setLocations},n)});return(0,i.jsx)("section",{className:"ajax-section",children:(0,i.jsx)("ul",{className:"cities",children:t})})}function d(e){return(0,i.jsxs)("label",{className:"kite-checkbox",children:[(0,i.jsx)("input",{id:"".concat(e.kiteSize,"m"),type:"checkbox",onChange:function(t){let n=t.target.checked,i=e.kites;n&&!i.includes(e.kiteSize)?e.setKites([...i,e.kiteSize]):!n&&i.includes(e.kiteSize)&&e.setKites(i.filter(t=>t!==e.kiteSize))}}),e.kiteSize,"m"]})}function m(e){let t=e.kiteSizes.map(function(t){return(0,i.jsx)(d,{kiteSize:t,kites:e.kites,setKites:e.setKites},t)});return(0,i.jsx)("div",{className:"kites-grid",children:t})}function h(e){return(0,i.jsx)("input",{type:"text",className:"input-weight",placeholder:"Enter weight in kgs",onBlur:t=>{let n=parseInt(t.currentTarget.value);if(!Number.isInteger(n)){t.currentTarget.value="",t.currentTarget.placeholder="Enter a number!";return}t.currentTarget.value=n+"kgs",e.setWeight(n)}})}function f(e){async function t(t){t.preventDefault();let n=t.currentTarget,i=document.querySelector(".msg"),s=document.querySelector(".input-city"),a=s.value.toLowerCase().replace(" ","").replace("uk","gb"),c=await o(a);if("Undefined"!==c.name){if(e.locations.length>0){let t=e.locations.filter(e=>e.name==c.name&&e.country==c.country);if(t.length>0){i.textContent="You already know the weather for ".concat(t[0].name," ...otherwise be more specific by providing the country code as well"),n.reset(),s.focus();return}}let t=await r(c.lat,c.lon),a={name:c.name,country:c.country,lat:c.lat,long:c.lon,data:t},o=[...e.locations,a];e.setLocations(o),i.textContent=""}else console.log("ENTER"),i.textContent="Please search for a valid city!";n.reset(),s.focus()}return(0,i.jsxs)("form",{onSubmit:t,children:[(0,i.jsx)("input",{type:"text",className:"input-city",placeholder:"Search for a city",autoFocus:!0}),(0,i.jsx)("button",{type:"submit",children:"SUBMIT"}),(0,i.jsx)("span",{className:"msg"})]})}function p(){let[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(0),[c,r]=(0,s.useState)([]);return(0,i.jsxs)("body",{children:[(0,i.jsxs)("section",{className:"top-banner",children:[(0,i.jsxs)("div",{className:"header-grid",children:[(0,i.jsx)("h1",{className:"heading",children:"Should I go Kiting?"}),(0,i.jsx)(f,{locations:c,setLocations:r})]}),(0,i.jsxs)("div",{className:"header-grid",children:[(0,i.jsx)("h2",{className:"kites-heading",children:"Kite Quiver"}),(0,i.jsx)(m,{kiteSizes:[4,5,6,7,8,9,10,11,12,13,15,17],kites:e,setKites:t}),(0,i.jsx)(h,{setWeight:a})]})]}),(0,i.jsx)(u,{locations:c,setLocations:r})]})}n(5024),n(1073)},1073:function(){},5024:function(){}},function(e){e.O(0,[548,971,69,744],function(){return e(e.s=950)}),_N_E=e.O()}]);